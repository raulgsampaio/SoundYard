<!doctype html>
<html>
<head><meta charset="utf-8"/><title>API Produtos - Teste</title></head>
<body>
  <h1>API Produtos - Teste</h1>
  <button id="listar">Listar Produtos</button>
  <button id="criar">Criar Produto</button>

  <script>
    const token = 'changeme123'; // se mudar .env, ajuste aqui para testar
    async function listar() {
      const r = await fetch('/produtos', { headers: { 'Authorization': 'Bearer ' + token } });
      console.log(await r.json());
      alert('Veja console (F12)');
    }
    async function criar() {
      const r = await fetch('/produtos', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + token },
        body: JSON.stringify({ name: 'Caneca', price: 19.9, stock: 10 })
      });
      console.log(await r.json());
      alert('Produto criado â€” veja console');
    }
    document.getElementById('listar').onclick = listar;
    document.getElementById('criar').onclick = criar;
  </script>
</body>
</html>
